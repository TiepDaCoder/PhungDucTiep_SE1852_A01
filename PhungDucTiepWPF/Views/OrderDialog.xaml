<Window x:Class="PhungDucTiepWPF.Views.OrderDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Create Order" Height="500" Width="700"
        WindowStartupLocation="CenterOwner">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,0,0,10">
            <StackPanel Margin="10">
                <TextBlock Text="Customer:"/>
                <ComboBox ItemsSource="{Binding Customers}"
                          SelectedItem="{Binding SelectedCustomer}"
                          DisplayMemberPath="ContactName"
                          Width="200"/>
            </StackPanel>

            <StackPanel Margin="10">
                <TextBlock Text="Employee:"/>
                <ComboBox ItemsSource="{Binding Employees}"
                          SelectedItem="{Binding SelectedEmployee}"
                          DisplayMemberPath="Name"
                          Width="200"/>
            </StackPanel>

            <StackPanel Margin="10">
                <TextBlock Text="Order Date:"/>
                <DatePicker SelectedDate="{Binding OrderDate}" Width="200"/>
            </StackPanel>
        </StackPanel>

        <GroupBox Header="Order Details" Grid.Row="2" Margin="0,10">
            <DataGrid ItemsSource="{Binding OrderDetails}" AutoGenerateColumns="False"
                      CanUserAddRows="True" Margin="0,5">
                <DataGrid.Columns>
                    <DataGridComboBoxColumn Header="Product"
                        SelectedItemBinding="{Binding Product, Mode=TwoWay}"
                        DisplayMemberPath="ProductName"
                        SelectedValuePath="ProductID"
                        Width="200"
                        ItemsSource="{Binding AvailableProducts}"/>
                    <DataGridTextColumn Header="Unit Price" Binding="{Binding UnitPrice}" Width="100"/>
                    <DataGridTextColumn Header="Quantity" Binding="{Binding Quantity}" Width="100"/>
                    <DataGridTextColumn Header="Discount" Binding="{Binding Discount}" Width="100"/>
                </DataGrid.Columns>
            </DataGrid>
        </GroupBox>

        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Content="Save" Width="80" Margin="5" IsDefault="True" Command="{Binding SaveCommand}"/>
            <Button Content="Cancel" Width="80" Margin="5" IsCancel="True" Command="{Binding CancelCommand}"/>
        </StackPanel>
    </Grid>
</Window>